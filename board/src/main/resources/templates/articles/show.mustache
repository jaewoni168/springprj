{{>layouts/header}}

<table class="table">
    <thead>
    <tr>
        <th scope="col">ID</th>
        <th scope="col">Title</th>
        <th scope="col">Content</th>
    </tr>
    </thead>
    <tbody>
    {{#article}}
        <tr>
            <th>{{id}}</th>
            <td><a href="/articles/{{id}}/edit">{{title}}</a></td>
            <td>{{content}}</td>
        </tr>
    {{/article}}
    </tbody>
</table>
<!-- 수정링크 추가 -->
<a href="/articles/{{article.id}}/delete" class="btn btn-danger" onclick="return delOk();">삭제</a>
<a href="/articles" class="btn btn-success">목록보기</a>

{{>comments/_comments}}


<script>
    function delOk(){
        var delOk=confirm("삭제할까요?");
        if(delOk){
            return true;
        }else{
            return false;
        }
    }
</script>

<script>
    // 답글이 있는 게시글은 삭제불가
     var btnDanger=document.getElementsByClassName("btn-danger")[0];
     btnDanger.onclick=function(){
          var cardHeader=document.getElementsByClassName("card-header")[0];
          if(cardHeader.innerHTML=""){
          alert("답글이 있는 게시글은 삭제불가합니다");
         return false;
       }
    }
</script>

{{>layouts/footer}}